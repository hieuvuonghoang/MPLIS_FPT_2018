#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using MPLIS.Modeles.QuanTriQuyTrinh;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/DiagramWorkflow/_QuyTrinh_DSQuyTrinh.cshtml")]
    public partial class _Views_DiagramWorkflow__QuyTrinh_DSQuyTrinh_cshtml : System.Web.Mvc.WebViewPage<MPLIS.Libraries.Data.QuanTriQuyTrinh.Models.DSQuyTrinhVM>
    {
        public _Views_DiagramWorkflow__QuyTrinh_DSQuyTrinh_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("<table");

WriteLiteral(" id=\"Table_QUYTRINH_ID\"");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(@">
    <thead>
        <tr>
            <th></th>
            <th>#</th>
            <th>Tên quy trình</th>
            <th>Tên nhóm quy trình</th>
            <th>Cấp quy trình</th>
            <th>Thời gian tối đa</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
");

            
            #line 16 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
        
            
            #line default
            #line hidden
            
            #line 16 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
         if (Model.DSQuyTrinh != null && Model.DSQuyTrinh.Count > 0)
        {
            int sTT = 0;
            foreach (var item in Model.DSQuyTrinh)
            {
                sTT++;

            
            #line default
            #line hidden
WriteLiteral("                <tr>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 24 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(item.QUYTRINHID);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 27 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(sTT);

            
            #line default
            #line hidden
WriteLiteral(".\r\n                    </td>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 30 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(item.TENQUYTRINH);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 33 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(item.TENNHOMQUYTRINH);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 36 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(item.CAPQUYTRINH);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 39 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
                   Write(item.THOIHANGIAIQUYETTOIDA);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td></td>\r\n                </tr>" +
"\r\n");

            
            #line 43 "..\..\Views\DiagramWorkflow\_QuyTrinh_DSQuyTrinh.cshtml"
            }
        }

            
            #line default
            #line hidden
WriteLiteral("    </tbody>\r\n</table>\r\n\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    var curQUYTRINHID = \"\";\r\n    $(document).ready(function () {\r\n        var " +
"columns = [\r\n            { \"data\": \"QUYTRINHID\" },\r\n            { \"data\": \"STT\" " +
"},\r\n            { \"data\": \"TENQUYTRINH\" },\r\n            { \"data\": \"TENNHOMQUYTRI" +
"NH\" },\r\n            { \"data\": \"CAPQUYTRINH\" },\r\n            { \"data\": \"THOIHANGI" +
"AIQUYETTOIDA\" },\r\n            { \"data\": null }\r\n        ]\r\n        var columnDef" +
"s = [\r\n            {\r\n                \"targets\": 0,\r\n                \"visible\": " +
"false\r\n            },\r\n            {\r\n                \"targets\": -1,\r\n          " +
"      \"render\": function () {\r\n                    return \"<button type=\'button\'" +
" class=\'btn btn-xs btn-heading btnCoppy\'>Sao chép</button><button type=\'button\' " +
"class=\'btn btn-xs btn-heading btnDel\'>Xóa</button>\";\r\n                },\r\n      " +
"          \"className\": \"text-center\"\r\n            },\r\n            {\r\n           " +
"     \"targets\": 1,\r\n                \"className\": \"text-right\"\r\n            },\r\n " +
"           {\r\n                \"targets\": [4, 5],\r\n                \"className\": \"" +
"text-center\"\r\n            }\r\n        ]\r\n        var options = {\r\n            \"pa" +
"geLength\": 5,\r\n            \"lengthChange\": false,\r\n            \"ordering\": false" +
",\r\n            \"info\": false,\r\n            \"searching\": false,\r\n            \"aut" +
"oWidth\": false,\r\n            \"language\": {\r\n                \"url\": \"https://cdn." +
"datatables.net/plug-ins/9dcbecd42ad/i18n/Vietnamese.json\"\r\n            },\r\n     " +
"       \"columns\": columns,\r\n            \"columnDefs\": columnDefs,\r\n            \"" +
"buttons\": [\r\n\t\t\t\t{\r\n\t\t\t\t    text: \'Thêm mới\',\r\n\t\t\t\t    className: \'btn btn-sm bt" +
"n-default\',\r\n\t\t\t\t    action: ThemMoiQuyTrinh\r\n\t\t\t\t}\r\n            ],\r\n           " +
" \"dom\": \"<\'row p-0\'<\'col-sm-12 p-0\'tr>><\'row p-0\'<\'col-sm-6 p-0\'B><\'col-sm-6 p-0" +
"\'p>>\"\r\n        }\r\n\r\n        var Table_QUYTRINH_ID = $(\'#Table_QUYTRINH_ID\').Data" +
"Table(options);\r\n\r\n        Table_QUYTRINH_ID.rows().nodes().on(\'click\', \'tbody t" +
"r\', function () {\r\n            if (Table_QUYTRINH_ID.rows().nodes().length > 0) " +
"{\r\n                XemTTChiTietQuyTrinh(Table_QUYTRINH_ID.row($(this)).data());\r" +
"\n                if ($(Table_QUYTRINH_ID.row(this).node()).attr(\'class\').indexOf" +
"(\'activerow\') != -1) {\r\n                    $(Table_QUYTRINH_ID.row(this).node()" +
").removeClass(\'activerow\');\r\n                } else {\r\n                    $(Tab" +
"le_QUYTRINH_ID.rows().nodes()).removeClass(\'activerow\');\r\n                    $(" +
"Table_QUYTRINH_ID.row(this).node()).addClass(\'activerow\');\r\n                }\r\n " +
"           }\r\n        })\r\n\r\n        Table_QUYTRINH_ID.rows().nodes().on(\'click\'," +
" \'tbody tr button\', function (event) {\r\n            event.stopPropagation();\r\n  " +
"      })\r\n\r\n        Table_QUYTRINH_ID.rows().nodes().on(\'click\', \'tbody tr .btnD" +
"el\', function (event) {\r\n            XoaQuyTrinh(Table_QUYTRINH_ID, Table_QUYTRI" +
"NH_ID.row($(this).parents(\'tr\')).data(), Table_QUYTRINH_ID.row($(this).parents(\'" +
"tr\')));\r\n        })\r\n\r\n        Table_QUYTRINH_ID.rows().nodes().on(\'click\', \'tbo" +
"dy tr .btnCoppy\', function (event) {\r\n            SaoChepQuyTrinh(Table_QUYTRINH" +
"_ID.row($(this).parents(\'tr\')).data());\r\n        })\r\n\r\n        function XemTTChi" +
"TietQuyTrinh(rowData) {\r\n            console.log(rowData);\r\n            if (rowD" +
"ata.QUYTRINHID != curQUYTRINHID) {\r\n                curQUYTRINHID = rowData.QUYT" +
"RINHID;\r\n                $.ajax({\r\n                    type: \"POST\",\r\n          " +
"          url: \"/DiagramWorkflow/_QuyTrinh_ChiTietQuyTrinh\",\r\n                  " +
"  data: { quyTrinhID: rowData.QUYTRINHID },\r\n                    dataType: \"html" +
"\",\r\n                    success: function (html) {\r\n                        $(\'#" +
"divTTChiTietQuyTrinhID\')\r\n                            .html(html)\r\n             " +
"               .ready(function () {\r\n                                $(\'#divTTCh" +
"iTietQuyTrinhID\').collapse(\'show\');\r\n                            })\r\n           " +
"         }\r\n                })\r\n            } else {\r\n                curQUYTRIN" +
"HID = \"\";\r\n                $(\'#divTTChiTietQuyTrinhID\').collapse(\'hide\');\r\n     " +
"       }\r\n        }\r\n\r\n        function XoaQuyTrinh(table, rowData, rowDel) {\r\n " +
"           if (confirm(\"Xác nhận xóa quy trình và dữ liệu liên quan?\")) {\r\n     " +
"           $.ajax({\r\n                    type: \"POST\",\r\n                    url:" +
" \"/DiagramWorkflow/_QuyTrinh_XoaQuyTrinh\",\r\n                    data: { quyTrinh" +
"ID: rowData.QUYTRINHID },\r\n                    dataType: \"json\",\r\n              " +
"      success: function (result) {\r\n                        if (result.success) " +
"{\r\n                            //Remove row in dataTable\r\n                      " +
"      table\r\n                                .row(rowDel)\r\n                     " +
"           .remove();\r\n                            var i = 1;\r\n                 " +
"           table.rows().every(function () {\r\n                                var" +
" d = this.data();\r\n                                d.STT = i++;\r\n               " +
"                 d.STT += \".\";\r\n                                table.row(this)." +
"data(d);\r\n                            })\r\n                            table.draw" +
"();\r\n                        }\r\n                        alert(result.mes);\r\n    " +
"                }\r\n                })\r\n            }\r\n        }\r\n\r\n        funct" +
"ion SaoChepQuyTrinh(rowData) {\r\n            $.ajax({\r\n                type: \"POS" +
"T\",\r\n                url: \"/DiagramWorkflow/_QuyTrinh_SaoChep\",\r\n               " +
" data: { quyTrinhID: rowData.QUYTRINHID },\r\n                dataType: \"json\",\r\n " +
"               success: function (result) {\r\n                    console.log(res" +
"ult);\r\n                    if (result.success) {\r\n                        result" +
".quyTrinh.STT = Table_QUYTRINH_ID.rows().count() + 1;\r\n                        r" +
"esult.quyTrinh.STT += \".\";\r\n                        var row = Table_QUYTRINH_ID." +
"row.add(result.quyTrinh).node();\r\n                        Table_QUYTRINH_ID.draw" +
"();\r\n                        //Table_QUYTRINH_ID.page(Table_QUYTRINH_ID.page.inf" +
"o().pages - 1).draw(false);\r\n                        //row.click();\r\n           " +
"         }\r\n                    alert(result.mes);\r\n                }\r\n         " +
"   })\r\n        }\r\n\r\n        function ThemMoiQuyTrinh() {\r\n            $.ajax({\r\n" +
"                type: \"POST\",\r\n                url: \"/DiagramWorkflow/_QuyTrinh_" +
"ThemMoi\",\r\n                dataType: \"html\",\r\n                success: function " +
"(html) {\r\n                    $(\'#divTTChiTietQuyTrinhID\')\r\n                    " +
"    .html(html)\r\n                        .ready(function () {\r\n                 " +
"           $(\'#divTTChiTietQuyTrinhID\').collapse(\'show\');\r\n                     " +
"   })\r\n                }\r\n            })\r\n        }\r\n\r\n    })\r\n</script>");

        }
    }
}
#pragma warning restore 1591
